# 🤖 Copilot Consistency Checklist

> **Purpose**: Comprehensive checklist for AI assistants to ensure all documentation, tests, help text, and code examples stay synchronized with the current codebase implementation.

## 📋 **Pre-Change Analysis**
Before making any significant changes, AI should check these areas for current state:

### **Core Documentation**
- [ ] `README.md` - Installation, usage examples, feature descriptions
- [ ] `docs/getting-started.md` - User setup and first-run instructions
- [ ] `.testing-framework.md` - Testing procedures and examples
- [ ] `.opus-testing-framework.md` - AI testing methodology
- [ ] `docs/security-assessment.md` - Security features and analysis
- [ ] `VERSION_GUIDE.md` - Versioning workflow and release process
- [ ] `TODO.md` - Known issues and planned features

### **AI Instructions & Behavior**
- [ ] `.github/copilot-instructions.md` - Coding style, principles, and guidelines
- [ ] This file (`.copilot-consistency-checklist.md`) - Keep updated with new areas

### **CLI Help & User Experience**
- [ ] `cmd/root.go` - Root command help text and long description
- [ ] All `cmd/*.go` files - Individual command help, examples, and usage
- [ ] Error messages throughout codebase - Ensure helpful and consistent
- [ ] First-run experience messaging - Setup prompts and guidance

### **Testing & Validation**
- [ ] `integration/*.go` - Integration tests with realistic scenarios
- [ ] `*_test.go` files - Unit tests covering edge cases
- [ ] `Makefile` - Build targets, test commands, and workflows
- [ ] Testing framework documentation accuracy

### **Configuration & Metadata**
- [ ] `go.mod` - Dependencies and Go version
- [ ] Build tags and compilation flags
- [ ] File permissions and security configurations

## 🔄 **Post-Change Synchronization**

When making changes to core functionality, AI should systematically update:

### **1. Help Text & CLI Interface**
```bash
# Check all command help text matches new functionality
./simple-secrets --help
./simple-secrets [command] --help
```

### **2. Documentation Examples**
- Update code examples in README.md
- Verify getting-started.md tutorials still work
- Update testing framework examples
- Check all documentation code blocks for accuracy

### **3. Error Messages**
- Ensure error messages are helpful and actionable
- Check for consistency in error formatting
- Verify error messages guide users to solutions

### **4. Tests & Integration**
- Update integration tests for new features
- Add unit tests for edge cases
- Verify testing framework procedures still work
- Update test documentation

### **5. Version & Release Info**
- Update VERSION_GUIDE.md if versioning changes
- Check TODO.md for completed/obsolete items
- Update security assessment if security features change

## 🎯 **Specific Consistency Points**

### **Command Examples**
Ensure these are consistent across all documentation:
- Token format and length
- File paths (especially `~/.simple-secrets/`)
- Command syntax and flags
- Environment variable names (`SIMPLE_SECRETS_TOKEN`)

### **Feature Descriptions**
Keep these synchronized:
- Encryption details (AES-256-GCM)
- RBAC role descriptions (admin/reader permissions)
- Backup and rotation capabilities
- File structure and permissions

### **User Experience Flow**
Maintain consistency in:
- First-run setup experience
- Authentication methods and precedence
- Error handling and recovery guidance
- Setup cancellation and restart procedures

## 🚨 **Critical Areas for Drift**

These areas are most prone to getting out of sync:

1. **CLI help text** vs **README examples**
2. **Error messages** vs **troubleshooting docs**
3. **Test procedures** vs **actual implementation**
4. **Feature lists** vs **implemented capabilities**
5. **Security claims** vs **actual security measures**

## 📝 **Automation Helpers**

### **Quick Consistency Check Commands**
```bash
# Verify all commands work as documented
grep -r "simple-secrets " docs/ | grep -E "^\s*\$|^\s*>"

# Check for outdated version references
grep -r "v[0-9]" docs/ README.md

# Find hardcoded paths that might need updating
grep -r "\.simple-secrets" docs/ README.md
```

### **Before/After Validation**
Always test these flows after changes:
- Fresh installation and first-run setup
- Basic CRUD operations with authentication
- Error scenarios with helpful messages
- All examples from documentation

## 🎯 **AI Assistant Guidelines**

When asked to make changes:

1. **Read first** - Check current state of all relevant documentation
2. **Plan changes** - Identify all areas that need updates
3. **Implement systematically** - Code first, then documentation
4. **Verify examples** - Test all documented procedures
5. **Cross-reference** - Ensure consistency across all materials

## 🔄 **Maintenance Schedule**

**After every significant change:**
- [ ] Run through this checklist
- [ ] Test at least one complete user journey
- [ ] Verify examples in documentation still work

**Periodic full review:**
- [ ] All documentation examples tested end-to-end
- [ ] All help text reviewed for accuracy
- [ ] All error messages checked for usefulness
- [ ] Testing frameworks validated against current implementation

---

**Last Updated**: September 13, 2025
**Next Review**: After next major feature addition or UX change
**Maintained by**: AI assistants working on this codebase
